import{r as e,j as a}from"./index-xl9o6DcG.js";import{M as b}from"./Message-CGUyE88l.js";import{g as x,a as y}from"./formatText-C7nXlOGZ.js";const j=({text:t,typingSpeed:u=30,onComplete:n,isLoading:s=!1,...o})=>{const[T,i]=e.useState(0),[g,l]=e.useState(!1),r=e.useRef(n),f=x(t);e.useEffect(()=>{r.current=n},[n]),e.useEffect(()=>{if(s)return;if(!t){i(0),l(!0);return}i(0),l(!1);const m=setInterval(()=>{i(c=>{var p;return c<f?c+1:(clearInterval(m),l(!0),(p=r.current)==null||p.call(r),c)})},u);return()=>clearInterval(m)},[t,u,f,s]);const h=y(t,T);return a.jsx(b,{content:a.jsxs(a.Fragment,{children:[h,!g&&!s&&a.jsx("span",{className:"inline-block w-1 h-4 ml-0.5 bg-current animate-pulse","aria-hidden":"true"})]}),...o,isLoading:s,isTyping:!0,"aria-label":`${o["aria-label"]||"Message"}, ${g?"complete":"typing in progress"}`})};j.displayName="TypingMessage";export{j as T};
