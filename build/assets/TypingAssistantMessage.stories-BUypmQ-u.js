import{r as i,j as e}from"./index-xl9o6DcG.js";import{A as w}from"./AssistantMessage-DQnSbXcO.js";import{g as v,a as S}from"./formatText-C7nXlOGZ.js";import{i as k,j as f,h as j,d as b}from"./index-7BC_2Zm7.js";import{c as C}from"./chat-bg-hdNWxx_n.js";import{c as D}from"./chat-bg-dark-CvIfsLPO.js";import"./MessageContextMenu-DsRTQY6S.js";import"./iconBase-DKGmSGNr.js";const t=({text:a,typingSpeed:g=30,onComplete:l,isLoading:n=!1,...p})=>{const[T,c]=i.useState(0),[h,d]=i.useState(!1),o=i.useRef(l),y=v(a);i.useEffect(()=>{o.current=l},[l]),i.useEffect(()=>{if(n)return;if(!a){c(0),d(!0);return}c(0),d(!1);const x=setInterval(()=>{c(m=>{var u;return m<y?m+1:(clearInterval(x),d(!0),(u=o.current)==null||u.call(o),m)})},g);return()=>clearInterval(x)},[a,g,y,n]);const N=S(a,T);return e.jsx(w,{content:e.jsxs(e.Fragment,{children:[N,!h&&!n&&e.jsx("span",{className:"inline-block w-1 h-4 ml-0.5 bg-current animate-pulse","aria-hidden":"true"})]}),...p,isLoading:n,"aria-label":`${p["aria-label"]||"Assistant message"}, ${h?"complete":"typing in progress"}`})};t.displayName="TypingAssistantMessage";const s={backgroundImage:`url("${C}")`,backgroundRepeat:"repeat",backgroundSize:"cover"},r={backgroundImage:`url("${D}")`,backgroundRepeat:"repeat",backgroundSize:"cover"},M=()=>e.jsx("div",{style:s,className:"p-4 min-h-screen",children:e.jsx(t,{text:"Hello! This is a typing animation for assistant messages. It types character by character to simulate a real-time chat experience.",sender:"other",typingSpeed:30})});M.storyName="Default Typing";const A=()=>e.jsx("div",{style:s,className:"p-4 min-h-screen",children:e.jsx(t,{text:"This message includes action buttons that appear below the text. You can like, dislike, regenerate, or copy the message!",sender:"other",typingSpeed:25,actions:[{id:"like",label:"Like",icon:e.jsx(k,{}),onClick:()=>console.log("Liked")},{id:"dislike",label:"Dislike",icon:e.jsx(f,{}),onClick:()=>console.log("Disliked")},{id:"regenerate",label:"Regenerate",icon:e.jsx(j,{}),onClick:()=>console.log("Regenerating...")},{id:"copy",label:"Copy",icon:e.jsx(b,{}),onClick:()=>console.log("Copied")}]})});A.storyName="With Actions";const I=()=>e.jsx("div",{style:s,className:"p-4 min-h-screen",children:e.jsx(t,{text:"This message demonstrates **bold text**, *italic text*, and `code snippets` with typing animation. The formatting is preserved during typing!",sender:"other",typingSpeed:20})});I.storyName="With Text Formatting";const P=()=>e.jsx("div",{style:s,className:"p-4 min-h-screen",children:e.jsx(t,{text:"Here is a longer message to demonstrate the typing effect with more content. The typing animation smoothly reveals the text character by character, creating an engaging user experience that mimics real-time responses from an AI assistant. This is particularly useful for chat applications where you want to show that the assistant is actively generating a response.",sender:"other",typingSpeed:15})});P.storyName="Long Message";const R=()=>e.jsx("div",{style:s,className:"p-4 min-h-screen",children:e.jsx(t,{text:"This message types very quickly! The typing speed is set to 10ms per character, making it appear almost instantly while still showing the typing effect.",sender:"other",typingSpeed:10})});R.storyName="Fast Typing (10ms)";const W=()=>e.jsx("div",{style:s,className:"p-4 min-h-screen",children:e.jsx(t,{text:"This message types slowly to emphasize the effect. Each character appears with a noticeable delay.",sender:"other",typingSpeed:100})});W.storyName="Slow Typing (100ms)";const F=()=>e.jsx("div",{style:s,className:"p-4 min-h-screen",children:e.jsx(t,{text:"This is the first message in a group.",sender:"other",groupPosition:"first",typingSpeed:20})});F.storyName="Group Position - First";const L=()=>e.jsx("div",{style:s,className:"p-4 min-h-screen",children:e.jsx(t,{text:"This is a middle message.",sender:"other",groupPosition:"middle",typingSpeed:20})});L.storyName="Group Position - Middle";const E=()=>e.jsx("div",{style:s,className:"p-4 min-h-screen",children:e.jsx(t,{text:"This is the last message in the group.",sender:"other",groupPosition:"last",typingSpeed:20})});E.storyName="Group Position - Last";const G=()=>e.jsxs("div",{style:s,className:"p-4 min-h-screen flex flex-col gap-0",children:[e.jsx(t,{text:"This is the first message in a group.",sender:"other",groupPosition:"first",typingSpeed:20,messageId:"msg-1"}),e.jsx(t,{text:"This is a middle message.",sender:"other",groupPosition:"middle",typingSpeed:20,messageId:"msg-2"}),e.jsx(t,{text:"This is the last message in the group.",sender:"other",groupPosition:"last",typingSpeed:20,messageId:"msg-3"})]});G.storyName="Example - Grouped Messages";const H=()=>e.jsx("div",{style:s,className:"p-4 min-h-screen",children:e.jsx(t,{text:"This message shows timestamp and read status indicators along with the typing animation.",sender:"other",showTimestamp:!0,timestamp:"14:23",showReadStatus:!0,isRead:!0,typingSpeed:25})});H.storyName="With Timestamp and Read Status";const $=()=>e.jsx("div",{style:s,className:"p-4 min-h-screen",children:e.jsx(t,{text:"This message has no avatar displayed.",sender:"other",showAvatar:!1,typingSpeed:30})});$.storyName="Without Avatar";const z=()=>e.jsx("div",{style:s,className:"p-4 min-h-screen",children:e.jsx(t,{text:"Right-click (or long press on mobile) this typing message to see the context menu!",sender:"other",typingSpeed:25,messageId:"context-msg",contextMenuItems:[{id:"copy",label:"Copy",onClick:()=>console.log("Copy clicked")},{id:"delete",label:"Delete",onClick:()=>console.log("Delete clicked")},{id:"forward",label:"Forward",onClick:()=>console.log("Forward clicked")}]})});z.storyName="With Context Menu";const B=()=>e.jsx("div",{style:r,className:"p-4 min-h-screen bg-gray-900",children:e.jsx(t,{text:"Hello! This is a typing animation for assistant messages. It types character by character to simulate a real-time chat experience.",sender:"other",typingSpeed:30,theme:"dark"})});B.storyName="Default Typing - Dark";const Y=()=>e.jsx("div",{style:r,className:"p-4 min-h-screen bg-gray-900",children:e.jsx(t,{text:"This message includes action buttons that appear below the text. You can like, dislike, regenerate, or copy the message!",sender:"other",typingSpeed:25,theme:"dark",actions:[{id:"like",label:"Like",icon:e.jsx(k,{}),onClick:()=>console.log("Liked")},{id:"dislike",label:"Dislike",icon:e.jsx(f,{}),onClick:()=>console.log("Disliked")},{id:"regenerate",label:"Regenerate",icon:e.jsx(j,{}),onClick:()=>console.log("Regenerating...")},{id:"copy",label:"Copy",icon:e.jsx(b,{}),onClick:()=>console.log("Copied")}]})});Y.storyName="With Actions - Dark";const q=()=>e.jsx("div",{style:r,className:"p-4 min-h-screen bg-gray-900",children:e.jsx(t,{text:"This message demonstrates **bold text**, *italic text*, and `code snippets` with typing animation. The formatting is preserved during typing!",sender:"other",typingSpeed:20,theme:"dark"})});q.storyName="With Text Formatting - Dark";const U=()=>e.jsx("div",{style:r,className:"p-4 min-h-screen bg-gray-900",children:e.jsx(t,{text:"Here is a longer message to demonstrate the typing effect with more content. The typing animation smoothly reveals the text character by character, creating an engaging user experience that mimics real-time responses from an AI assistant. This is particularly useful for chat applications where you want to show that the assistant is actively generating a response.",sender:"other",typingSpeed:15,theme:"dark"})});U.storyName="Long Message - Dark";typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{M as Default,B as DefaultDark,R as FastTyping,F as GroupPositionFirst,E as GroupPositionLast,L as GroupPositionMiddle,G as GroupedMessagesExample,P as LongMessage,U as LongMessageDark,$ as NoAvatar,W as SlowTyping,A as WithActions,Y as WithActionsDark,z as WithContextMenu,I as WithFormatting,q as WithFormattingDark,H as WithTimestampAndReadStatus};
