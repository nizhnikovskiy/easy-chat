import{r as e,j as r}from"./index-BEcDo9m9.js";import{M as T}from"./Message-CqX55SDZ.js";import{g as b,a as x}from"./formatText-BvQYyoZd.js";const d=({text:t,typingSpeed:o=30,onComplete:a,...c})=>{const[p,n]=e.useState(0),[u,i]=e.useState(!1),s=e.useRef(a),g=b(t);e.useEffect(()=>{s.current=a},[a]),e.useEffect(()=>{if(!t){n(0),i(!0);return}n(0),i(!1);const m=setInterval(()=>{n(l=>{var f;return l<g?l+1:(clearInterval(m),i(!0),(f=s.current)==null||f.call(s),l)})},o);return()=>clearInterval(m)},[t,o,g]);const h=x(t,p);return r.jsx(T,{content:r.jsxs(r.Fragment,{children:[h,!u&&r.jsx("span",{className:"inline-block w-1 h-4 ml-0.5 bg-current animate-pulse","aria-hidden":"true"})]}),...c,"aria-label":`${c["aria-label"]||"Message"}, ${u?"complete":"typing in progress"}`})};d.displayName="TypingMessage";export{d as T};
