import{r as t,j as a}from"./index-BEcDo9m9.js";import{A as T}from"./AssistantMessage-COnDFLMF.js";import{g as b,a as x}from"./formatText-BvQYyoZd.js";const A=({text:e,typingSpeed:o=30,onComplete:n,...c})=>{const[p,r]=t.useState(0),[u,i]=t.useState(!1),s=t.useRef(n),g=b(e);t.useEffect(()=>{s.current=n},[n]),t.useEffect(()=>{if(!e){r(0),i(!0);return}r(0),i(!1);const m=setInterval(()=>{r(l=>{var f;return l<g?l+1:(clearInterval(m),i(!0),(f=s.current)==null||f.call(s),l)})},o);return()=>clearInterval(m)},[e,o,g]);const h=x(e,p);return a.jsx(T,{content:a.jsxs(a.Fragment,{children:[h,!u&&a.jsx("span",{className:"inline-block w-1 h-4 ml-0.5 bg-current animate-pulse","aria-hidden":"true"})]}),...c,"aria-label":`${c["aria-label"]||"Assistant message"}, ${u?"complete":"typing in progress"}`})};A.displayName="TypingAssistantMessage";export{A as T};
